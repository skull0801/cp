#include <iostream>using namespace std;int main() {	char map[200][200];	int vis[200][200];	int m, n, x, y, i, j, a, h, v;	bool solved;	while(scanf("%d\n%d\n", &n, &m) == 2) {		for (i = 0; i < m; i++) {			for (j = 0; j < n; j++) {				a = scanf("%c", map[j]+i);				vis[j][i] = 0;			}			a = scanf("\n");		}		x = y = 0;		h = v = 0;		solved = false;		// for (i = 0; i < m; i++) {		// 	for (j = 0; j < n; j++) {		// 		printf("%c", map[j][i]);		// 	}		// 	printf("\n");		// }		do {			if (vis[x][y])				break;			vis[x][y] = 1;			switch(map[x][y]) {				case '>':					h=1;v=0;break;				case '<':					h=-1;v=0;break;				case '^':					h=0;v=-1;break;				case 'v':					h=0;v=1;break;				case '*':					solved = true;					break;			}			x += h;			y += v;			// printf("%d %d\n", x, y);			if (x < 0 || y < 0 || x >= n || y >= m) {				break;			}		} while (!solved);		printf("%c\n", solved ? '*' : '!');	}	return 0;}
